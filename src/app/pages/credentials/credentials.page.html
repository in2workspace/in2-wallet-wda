<!-- CREDENTIALS LIST -->
@if(!showOfferSuccessPopup){
  <ion-content [fullscreen]="true" class="background-content">
    <ion-grid>
      <ion-text *ngIf="credList$().length===0"> {{"credentials.nocred"|translate}}</ion-text>
      <ion-row class="ion-justify-content-center"
      *ngFor="let cred of credList$()">
        <app-vc-view (vcEmit)="vcDelete($event)" [credentialInput]="cred"></app-vc-view>
      </ion-row>
    </ion-grid>
  </ion-content>
  <ion-row class="ion-align-items-end ion-justify-content-end custom-button-row">
    <!-- go to scanner button -->
    <ion-button (click)="navigateWithParamsTo('/tabs/credentials/scanner')" 
    (keydown)="handleButtonKeydown($event, 'scan')"
    shape="round" color="medium" size="large">
    <div class="custom-button-content">
      <ion-icon size="large" color="light" name="add">
      </ion-icon>
    </div>
    </ion-button>
  </ion-row>
}
@else{
  <!-- NEW CREDENTIAL SUCESS POPUP (INFO ONLY)-->
  <!-- todo maybe inject it dynamically with ng-container or ng-template, or with ion-alert -->
  <ion-content [fullscreen]="true">
    <ion-grid style="text-align: center;">
      <p style="text-align: left !important; font-size: 16px; font-weight: bold; padding-left:10px">{{ 'credentials.ok-msg' | translate }}</p>
      <img src="../assets/icon/Tick/checkmark-verd.png" alt="g-maps" style="border-radius: 2px; width: 200px; height: 200px;">
      <ion-row class="ion-justify-content-center">
        <!-- ? can credential be removed at this point? is this what we want? -->
         <!-- todo maybe there's a better way than credList[0] -->
        <app-vc-view [credentialInput]="credList$()[0]"></app-vc-view>
      </ion-row>
    </ion-grid>
  </ion-content>
 }

<!-- EBSI POPUP -->
<!-- TODO: This should be moved to the settings page because this is something recreated to ebsi and this option is enabled in the settings page -->
@if(ebsiFlag){
  <div class="popup-bg-cover"></div>

  <div class="ebsi-popup">
    <span>{{ 'credentials.ebsi-popup.info' | translate }}</span>
    <div class="did-data-wrapper">
      <div>
        <span id="did-text">
          <strong>{{ 'credentials.ebsi-popup.did' | translate }}</strong>
          {{did}}
        </span>
        <button (click)="copyToClipboard('did-text')" title="{{ 'credentials.copy' | translate }}">
          <ion-icon name="copy-outline" style="font-size: 30px;"></ion-icon>
        </button>
      </div>
      <div>
        <span>
          <strong>{{ 'credentials.ebsi-popup.credential-offer' | translate }}</strong>{{credOfferEndpoint }}
        </span>
        <button (click)="copyToClipboard('endpoint-text')" title="{{ 'credentials.copy' | translate }}">
          <ion-icon name="copy-outline" style="font-size: 30px;"></ion-icon>
        </button>
      </div>
    </div>
    <button class="next-button-ebsi" routerLink="/tabs/credentials/scanner">{{ 'credentials.ebsi-popup.next' | translate }}</button>
  </div>
}